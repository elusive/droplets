<div class="file-upload-container">
    <div class="card">
        <div class="card-header">
            <h2 class="header-title">
                <svg
                    xmlns="http://www.w3.org/2000/svg"
                    class="icon"
                    fill="none"
                    viewBox="0 0 24 24"
                    stroke="currentColor"
                >
                    <path
                        stroke-linecap="round"
                        stroke-linejoin="round"
                        stroke-width="2"
                        d="M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12"
                    />
                </svg>
                {{ title() }}
            </h2>
            <p class="header-subtitle">{{ subTitle() }}</p>
        </div>
        <div class="card-body">
            <label class="drop-zone">
                <input
                    (change)="onFileSelected($event)"
                    #fileInput
                    class="hidden-input"
                    type="file"
                    accept=".json"
                />
                <div class="drop-zone-content">
                    @if (!selectedFile()) {
                        <div class="upload-icon-wrapper">
                            <svg
                                xmlns="http://www.w3.org/2000/svg"
                                class="large-icon"
                                fill="none"
                                viewBox="0 0 24 24"
                                stroke="currentColor"
                            >
                                <path
                                    stroke-linecap="round"
                                    stroke-linejoin="round"
                                    stroke-width="1.5"
                                    d="M9 13h6m-3-3v6m5 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"
                                />
                            </svg>
                        </div>
                    }
                    <p class="main-text">
                        @if (selectedFile(); as file) {
                            <span class="highlight">{{ file.name }}</span>
                        } @else {
                            Click to <span class="link">Browse</span>
                        }
                    </p>
                    <p class="sub-text">
                        @if (selectedFile(); as file) {
                            {{ (file.size / 1024 / 1024).toFixed(2) }} MB
                        }
                    </p>
                </div>
            </label>
            <div class="actions">
                <button (click)="reset()" [disabled]="!selectedFile()" class="btn btn-secondary">
                    Clear
                </button>

                <button
                    (click)="onLoadClick()"
                    [disabled]="!selectedFile()"
                    class="btn btn-secondary"
                >
                    Upload File
                </button>
            </div>
        </div>
    </div>
</div>
